<!DOCTYPE html>

<html>
    <head>
        <title>Prueba 03</title>
    </head>

    <body>
        <div class="cell">
            <h1>Prueba 03: Espacialización del sonido en tiempo real</h1>
            <img src="../resources/diagrama.png" width="500"></img>
        </div>
        
        <div class="cell">
            <h2>1. Carga de archivos </h2>
            <p>
                Primero, el programa carga un archivo de sonido, se carga en memoria y es utilizado como <b>entrada</b> del sistema de procesamiento.<br>
                Luego carga un archivo JSON con una HRTF, es utilizado como <b>filtro</b> del sistema de procesamiento.
            </p>
            <b><span>Volumen: </span></b> <span id="volumeText">100</span> <span>%</span>
            <input onchange="onVolumeChange(this.value)" type="range" id="volume" value="100" min="0" max="500" step="1"></input>
        </div>        

        <div class="cell">
            <h2>2. Seleccion de las coordenadas</h2>
            <p>
                Seleccionar qué coordenadas utilizar para la HRTF y se buscará la más cercana.
            </p>
            <b><span>Azimuth: </span></b> <span id="azimuthText">0</span> <span>°</span>
            <input onchange="onAzimuthChange(this.value)" type="range" id="azimuth" value="0" min="0" max="360" step="1"></input>
            <b><span>Elevation: </span></b> <span id="elevationText">0</span> <span>°</span>
            <input onchange="onElevationChange(this.value)" type="range" id="elevation" value="0" min="-90" max="90" step="1"></input>
            <b><span>Radius: </span></b> <span id="radiusText">1</span> <span>m</span>
            <input onchange="onRadiusChange(this.value)" type="range" id="radius" value="1" min="1" max="10" step="0.1"></input>
            <br>
            <button id="animationButton" onclick="onStartMoving(event)"> Start moving sound source </button>
            <button id="offAnimationButton" onclick="onStopMoving(event)"> Stop moving </button>
            <br>
        </div>

        <div class="cell">
            <h2> Informacion de la HRTF </h2>
            <b><span>Posicion: </span></b> <span id="positionText"></span> <br>
            <b><span>Dimensiones: </span></b> <span id="dimensionsText"></span>
        </div>

        <div id="plot"></div>

        <div class="cell">
            <h2>Control de reproducción</h2>
            <p>
                Con los siguientes botones se permite controlar la reproducción en tiempo real, pausando y continuando el procesamiento
                continuo de las señales a lo largo del grafo creado.
            </p>
            <div>
                <button id="playButton" onclick="onPlayButton(event)">Reproducir</button>
                <button id="stopButton" onclick="onStopButton(event)">Pausar</button>
            </div>
            <p> Si lo desea, puede cargar un archivo WAV de sonido distinto. </p>
            <input type="file" id="wavSelector" onchange="onWavLoad(event)"></input>
        </div>
        <script src="graph.js" type="text/javascript"></script>
        <script src="HRTFManager.js" type="text/javascript"></script>
        <script src="main.js"></script>
    </body>
</html>